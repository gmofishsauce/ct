<!-- Licensed under a BSD license. See license.html for license -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>Three.js - Fundamentals with animation</title>
    <style>
    html, body {
      margin: 0;
      height: 100%;
    }
    #c {
      width: 100%;
      height: 100%;
      display: block;
    }
    .scroll-container {
      height: 100px;
      overflow: auto;
      border: 1px solid #ccc;
      padding: 10px;
    }
    </style>
  </head>
  <body>
    <button id="init">Init Worker</button>
    <button id="send">Send Hello</button>
    <div id="log" class="scroll-container">
    </div>
    <canvas id="c"></canvas>
  </body>
  <script>
    const log = (msg) => {
      const el = document.getElementById("log");
      el.textContent += msg + "\n";
    };
  
    let worker = null;
    
    document.getElementById("init").onclick = () => {
      worker = new Worker("worker.js");
      worker.onmessage = (e) => {
        log("From worker: " + JSON.stringify(e.data));
      };

      // Point to your server base URL
      worker.postMessage({ type: "init", baseUrl: "http://localhost:8080" });
      log("Init message sent to worker.");
    };

    document.getElementById("send").onclick = () => {
      if (worker) {
        worker.postMessage({ type: "stdin", data: "uci\n" });
        log("Sent 'uci' to worker.");
      } else {
        log("Worker not initialized yet.");
      }
    };
  </script>
  <script type="module" src="/main.js"></script> -->
</html>

